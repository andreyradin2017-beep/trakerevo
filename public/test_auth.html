<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Telegram Auth Test</title>
  </head>
  <body style="font-family: sans-serif; text-align: center; padding: 2rem">
    <h1>Testing Telegram Widget</h1>
    <p>This is a raw HTML page without React.</p>

    <div id="widget-container">
      <!-- Replace TrakerEvoBot with your actual bot name if different -->
      <script
        async
        src="https://telegram.org/js/telegram-widget.js?22"
        data-telegram-login="TrakerEvoBot"
        data-size="large"
        data-onauth="onTelegramAuth(user)"
        data-request-access="write"
      ></script>
    </div>

    <div
      id="result"
      style="
        margin-top: 2rem;
        padding: 1rem;
        border: 1px solid #ccc;
        display: none;
      "
    >
      <h3>Success!</h3>
      <pre id="user-data"></pre>
    </div>

    <script>
      function onTelegramAuth(user) {
        console.log("Auth success!", user);
        const resultDiv = document.getElementById("result");
        const userPre = document.getElementById("user-data");

        resultDiv.style.display = "block";
        resultDiv.style.backgroundColor = "#e6fffa";
        resultDiv.style.borderColor = "#38b2ac";

        userPre.textContent = JSON.stringify(user, null, 2);
        alert("Logged in as " + user.first_name);
      }
    </script>
  </body>
</html>
