# Спецификация приложения TrakerEvo для дизайнера

Данный документ описывает функционал, логику и структуру страниц приложения для проектирования нового дизайна с нуля.

## Общие концепции

- **Кросс-платформенность**: Приложение ориентировано на мобильные устройства (PWA/Веб), но должно хорошо смотреться и на десктопе.
- **Типы контента**: Фильмы, Сериалы, Игры, Книги. У каждого типа свои метаданные (например, для игр — время прохождения HLTB, для фильмов — трейлеры).
- **Статусы**: Каждый элемент в коллекции имеет один из статусов: «В планах», «В процессе», «Завершено», «Брошено».
- **Синхронизация**: Данные хранятся локально (Dexie DB) и синхронизируются с облаком (Supabase).

---

## 1. Глобальная навигация (Bottom Bar)

Нижнее меню, доступное почти на всех страницах.

- **Главная**: Дашборд со списками и недавними элементами.
- **Открытия**: Рекомендации и новинки.
- **Рандом**: Кнопка «Мне повезёт» для случайного выбора.
- **Архив**: Список заархивированных элементов.
- **Профиль**: Настройки аккаунта и приложения.

---

## 2. Главная страница (Home)

Центральный хаб пользователя.

- **Шапка**: Аватар пользователя, статус синхронизации и название страницы.
- **Карусель «Upcoming»**: Большие карточки с контентом, который скоро выходит или недавно вышел (визуальный акцент).
- **Фильтры (Sticky)**:
  - **Категории**: Переключатель «Все / Фильмы / Игры / Книги».
  - **Инструменты**: Фильтр по статусу и Сортировка (по дате добавления, рейтингу, названию).
- **Мои списки**: Горизонтальный скролл коллекций пользователя (фолдеры). Есть кнопка создания нового списка.
- **Основная сетка**: Карточки элементов (GridCard).
  - В режиме «Все» первой идет пустая карточка с кнопкой «Добавить» (переход в поиск).
  - Каждая карточка отображает: постер, название, год/тип, текущий прогресс (если есть).
  - **Логика**: Длинное нажатие на карточку открывает быстрое меню действий (изменить статус, в архив, удалить).

---

## 3. Открытия (Discover)

Страница для поиска чего-то нового.

- **Жанровые чипсы**: Горизонтальный скролл жанров (Экшен, Драма, RPG и т.д.).
- **Секции (Horizontal Lists)**:
  - **Персонализация**: Блок «Похоже на...», основанный на последних добавленных элементах пользователя.
  - **Тренды**: «Популярное сейчас», «Скоро в кино», «Игровые новинки».
- **Действия**: В каждой секции есть кнопка «Добавить все», которая массово добавляет элементы в список «В планах».
- **Логика**: Карточки здесь могут быть уже «в библиотеке» (помечаются галочкой/индикатором).

---

## 4. Поиск (Search)

- **Строка поиска**: Поддерживает ввод текста или вставку ссылки (авто-распознавание контента из внешних источников).
- **Режимы**: Переключатель между «Глобальный» (по всему интернету) и «Библиотека» (только по своим вещам).
- **История и Тренды**: Если строка пуста, отображаются недавние запросы и кнопки с популярными подсказками (например, «Inception»).
- **Результаты**:
  - Если вставлена ссылка, сверху выводится «Распознанный элемент».
  - Сетка результатов с возможностью быстрого добавления в один клик.
  - Кнопка «Добавить все результаты» внизу.

---

## 5. Карточка элемента (Item Detail)

Детальная страница выбранного контента.

- **Герой-блок**: Большой постер/фон, название, год, жанры, рейтинг.
- **Управление статусом**: Кнопка выбора статуса («Хочу», «Смотрю» и т.д.).
- **Трейлер**: Встроенный плеер YouTube (для кино).
- **Описание**: Текстовый блок.
- **Статистика/Инфо**: Для игр — HLTB (время прохождения), для книг — автор и т.д.
- **Провайдеры**: Логотипы сервисов, где можно посмотреть/купить (IVI, Netflix, Steam и т.д.).
- **Дополнительно**: Возможность добавить в список (коллекцию), поставить личную оценку (звезды), добавить заметку.
- **Рекомендации**: Список похожих элементов внизу.

---

## 6. Коллекция / Список (ListPage)

Страница конкретной папки пользователя.

- **Управление**: Кнопки переименования, массового выбора элементов (Selection mode) и удаления списка.
- **Сетка/Список**: Элементы представлены в виде строк с более детальной информацией (DetailedListItem).
- **Жесты**: Поддержка свайпов для быстрого удаления или архивации.
- **Массовые действия**: При выборе нескольких элементов внизу выезжает тулбар («В архив», «Удалить»).

---

## 7. Рандомайзер (Random)

Инструмент для решения проблемы выбора.

- **Выбор категории**: Фильтр того, что именно будем крутить.
- **Экран барабана**: Пустое место, которое при нажатии на «Крутить!» превращается в мелькающие карточки.
- **Эффект**: Работает как игровой автомат — замедляется и останавливается на случайном элементе из списка «В планах».
- **Результат**: Финальная карточка с красивым свечением и конфетти.

---

## 8. Профиль и Настройки

- **Карточка пользователя**: Аватар, email, кнопка входа/выхода.
- **Статистика**: График «Любимые жанры» пользователя.
- **Настройки поиска**: Выбор и сортировка источников (RAWG, TMDB, Google Books).
- **Данные**: Кнопки Импорта/Экспорта (JSON), полной очистки БД.

---

## Техническая логика для дизайна

1. **Состояния**: Для каждого блока нужно продумать:
   - Загрузка (Скелетоны).
   - Пустое состояние (Empty State) — важно, чтобы они были дружелюбными.
   - Ошибка (Error).
2. **Анимации**: Приложение использует Framer Motion. Новые переходы должны быть плавными и «эластичными».
3. **Тактильность**: Много вибраций (Haptics) на кнопках и результатах.
4. **Темы**: Должна быть поддержка темной и светлой темы (сейчас доминирует темная с фиолетовыми акцентами).
